name: 部署 GitHub Pages

# 触发条件：推送到 main 分支时自动运行
on:
  push:
    branches: [ main ]

jobs:
  deploy:
    runs-on: ubuntu-latest  # 运行环境（默认即可）
    steps:
      # 第一步：检出仓库代码
      - name: 检出代码
        uses: actions/checkout@v4

      # 第二步：部署静态文件到 GitHub Pages
      - name: 部署到 GitHub Pages
        uses: peaceiris/actions-gh-pages@v4
        with:
          # 部署目录：指定你HTML文件所在的文件夹（这里对应 docs/html/）
          publish_dir: ./docs/html
          # 自动生成部署日志
          publish_branch: gh-pages  # 部署到 gh-pages 分支（GitHub Pages默认读取此分支）
          force_orphan: true  # 清除旧版本，避免冲突
